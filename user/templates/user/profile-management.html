{% extends 'user/navbar.html' %}
{% load crispy_forms_tags %}

{% block content %}
    <br>
    <div class="container bg-white shadow-md p-5 form-layout">
        <h1>Update Username and Email</h1>
        <br>
        <!-- Update User Information (Username and Email) -->
        <form method="POST" autocomplete="off">
            {% csrf_token %}
            {{ user_form|crispy }}
            <br>
            <button class="btn btn-secondary btn-md w-100 btn-block p-3" type="submit">Update</button>
        </form>
    </div>
    <br>

    <div class="container bg-white shadow-md p-5 form-layout">
        <h1>Update Profile Picture</h1>
        <br>
        <!-- Update Profile Picture (Stored in S3 Bucket) -->
        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            {{ profile_form|crispy }}
            <br>
            <button class="btn btn-secondary btn-md w-100 btn-block p-3" type="submit">Update</button>
        </form>
        <br>
        <div class="text-center">
            <h5>Current Profile Picture</h5>
            <img src="{{ profile_pic_url }}" alt="Profile Picture" class="img-thumbnail" style="width: 150px; height: 150px;">
        </div>
    </div>
    <br>

    <div class="container bg-white shadow-md p-5 form-layout">
        <h1>Delete Your Account</h1>
        <p>
            <strong>Warning:</strong> This action will permanently delete your account and all associated data.
        </p>
        <!-- Link to Delete Account -->
        <a class="btn btn-danger btn-md w-100 btn-block p-3" href="{% url 'delete-account' %}">Delete Your Account</a>
    </div>
    <br>
{% endblock content %}
